


<p>The room is <a><span ng-bind="roomID"></span></a>.</p>

<div ng-style="randCol()">
	Your current color
</div>
<p>Tier: 


<!-- 	<select ng-model="tiers">
		<option value="Uber" ng-click="showMons('Uber')">Uber</option>
		<option value="OU" ng-click="showMons('OU')">OU</option>
		<option value="UU" ng-click="showMons('UU')">UU</option>
		<option value="RU" ng-click="showMons('RU')">RU</option>
		<option value="NU" ng-click="showMons('NU')">NU</option>
		<option value="PU" ng-click="showMons('PU')">PU</option>
		<option value="LC" ng-click="showMons('LC')">LC</option>
	</select> -->

	<select ng-options="t for t in tiers | filter: '!BL'" ng-model="selectedTier" ng-change="chooseTier(selectedTier)"></select>
	 <!-- ng-change="showMons()" -->

	<!-- <span ng-bind="selectedTier.name"></span> -->
</p>





<div>
	<table>

		<tr>
			<td>who: </td><td ng-repeat="ind in partySize"><span ng-style="viewing{{ind}}"><span ng-bind="howManyViewing{{ind}}"></span></span></td>
		</tr>

		<tr>

			
				<!-- <td><img ng-src="https://play.pokemonshowdown.com/sprites/bw/sneasel.png" /></td> -->
				<td></td><td ng-repeat="ind in partySize"><img ng-src="{{getPokeSprite(ind)}}" /></td>
		</tr>

		<tr>
			
				<td></td><td ng-repeat="ind in partySize"><a href="" ng-click="changeWhichMon(ind)" ng-bind="party['pokemon' + ind].name || 'Pokemon ' + ind"></a></td>
			


		</tr>
	</table>
</div>



<br />
<div ng-repeat="num in partySize track by $index">
	
	<span ng-show="num === whichMonToShow">
		<div>
			Pokemon <span ng-bind="num"></span>: <input ng-model="party['pokemon' + num].name" ng-keyup="findRelMons(num)"></input> @ Item: <input ng-model="party['pokemon' + num].item" ng-keyup="findRelItems(num)"></input>
		</div>


		<div>
			Ability: <strong><span ng-bind="party['pokemon' + num].ability"></span></strong> <!-- <span ng-bind="getAbility(0, num)"></span> / <span ng-bind="getAbility(1, num)"></span> / <span ng-bind="getAbility(H, num)"></span> (currently just here so you can see the abilities) -->

			| <span ng-repeat="ab in getAbs(num) track by $index"><a href="" ng-bind="ab" ng-click="selectAbility(num, $index, ab)" ng-style="abilitySel{{$index}}"></a> | </span>

		</div>

		<div>
			EVs: 
			<span ng-repeat="ev in evs track by $index">
				<span ng-bind="ev"></span>: 
				<select ng-options="n for n in evNums[num][ev]" ng-model="party['pokemon' + $parent.num].EVs[ev]" ng-change="chooseEV($parent.num, ev)"></select>
				<!-- <input size="3" ng-model="party['pokemon' + $parent.num].EVs[ev]" ng-keyup="fillEVs($parent.num, ev)"></input>  -->
				
			</span>
		</div>

		<div>
			<select ng-options="n for n in natures" ng-model="party['pokemon' + num].nature" ng-change="doNatures(num, party['pokemon' + num].nature)"></select> Nature 
		</div>
		

		<div ng-repeat="moveNum in moveSize track by $index">

			Move <span ng-bind="moveNum"></span>: <input ng-model="party['pokemon' + $parent.num]['move' + moveNum]" ng-keyup="findRelMoves($parent.num + moveNum)"></input>

		</div>




	</span>

</div>



<div ng-repeat="mon in r.pokedex | orderBy:tierSort">
  <table>
    <tr>

    	<td>
    		<img ng-src="http://www.smogon.com/dex/media/sprites/xyicons/{{mon.species.toLowerCase()}}.png" />
    	</td>

      <td>
      	<a href="" ng-click="fillInput(mon.species)"><span ng-bind="mon.species"></span></a>
      </td>

      <td>
      	<span ng-bind="mon.tier"></span>
      </td>
    </tr>
  </table>
</div>

<div ng-repeat="item in r.itemdex">
  <table>
    <tr>
      <td>
      	<a href="" ng-click="fillInputItem(item.name)"><span ng-bind="item.name"></span></a>
      </td>

    </tr>
  </table>
</div>

<div ng-repeat="move in r.movedex">
  <table>
    <tr>
      <td>
      	<a href="" ng-click="fillInputMove(move.name)"><span ng-bind="move.name"></span></a>
      </td>
<!--  -->
    </tr>
  </table>
</div>


<br />

<span ng-show="exporting">
	<!-- <a href="" ngclipboard data-clipboard-target="#cptarget">Copy to Clipboard</a> -->
	<a clipboard text="exported" on-copied="copied()" href="">Copy to Clipboard</a>
	<span ng-bind="copied2clip"></span>
	<br />
	<textarea rows="30" cols="50" ng-bind="exported" id="cptarget"></textarea>
</span>

<!-- <textarea rows="30" cols="50" ng-keyup="gDocsIt($event)" ng-model="text"></textarea> -->

	
<div class="showChat" ng-show="hideChat">
	<a href="" ng-click="hideChat = !hideChat">Show Chat</a>
</div>
<div class="wholeChat" ng-hide="hideChat">

	<div class="export">
		<a href="" ng-click="export()"><span ng-show="exporting">Hide</span> Export Team</a>
		<a href="" ng-click="hideChat = !hideChat" class="topRight">Hide Chat</a>
	</div>

	<div ng-hide="damageCalcActive">


		<div class="chatNav">
			<a href="" ng-click="damageCalcActive = false">Chat</a> 
			<a href="" ng-mousedown="damageCalcActive = true" ng-mouseup="refreshCalcs()">Attacking Damage Calc</a>
		</div>


		<span>Name: <span><input ng-model="userNick"></input> 

		<div class="chat" id="cheating">
				
			<ul ng-bind-html="messages">
			
			</ul>


		</div>

		<input class="inputMes" ng-model="chatMessage" ng-keydown="sendMessage($event)"></input>
	</div>
	<div ng-show="damageCalcActive">
		<div class="chatNav">
			<a href="" ng-click="damageCalcActive = false">Chat</a> 
			<a href="" ng-mousedown="damageCalcActive = true" ng-mouseup="refreshCalcs()">Attacking Damage Calc</a> 
			<!-- <a href="" ng-click="refreshCalcs()">Refresh Calcs</a> -->
		</div>
		<input style="visibility: hidden;"></input> 
		<div class="damageCalc">
			<span ng-bind="test"></span>
			<span ng-bind="basepower"></span>
			<label>
				<input type="checkbox" ng-model="natureBoost" ng-true-value="1.1" ng-false-value="1" ng-click="refreshCalcs()"></input>
				Attacker Positive Nature
			</label>

			<br />
			<select ng-options="b for b in bpMods" ng-model="bpMod" ng-change="refreshCalcs()"></select> Base Power Modifier

			<br />

			<select ng-options="s for s in atkStatMods" ng-model="atkStatMod" ng-change="refreshCalcs()"></select> Offensive Stat Modifier

			<br />

			<select ng-options="d for d in damageMods" ng-model="damageMod" ng-change="refreshCalcs()"></select> Damage Modifier



			<br />

 			<select ng-options="h for h in howEffective" ng-model="effectiveness" ng-change="refreshCalcs()"></select> Effectiveness


			<!--
			<select ng-options="i for i in itemEff" ng-model="itemEffectiveness" ng-change="refreshCalcs()"></select> Item Modifier

			<br />

			<select ng-options="a for a in abEff" ng-model="abilityEffectiveness" ng-change="refreshCalcs()"></select> Ability Modifier -->

			<br />

			Defender name: <input ng-model="defenderName" ng-keyup="refreshCalcs()"></input>
			<br />
			Defender HP EVs: <input ng-model="defHPEVs" ng-keyup="refreshCalcs()"></input>
			<br />
			Defender EVs: <input ng-model="dEVs" ng-keyup="refreshCalcs()"></input>
			<br />
			<input type="checkbox" ng-model="defNatureBoost" ng-true-value="1.1" ng-false-value="1" ng-click="refreshCalcs()"></input>
				Defender Positive Nature

				<span ng-bind="atkstat"></span> vs <span ng-bind="defstat"></span>
			<div ng-bind-html="damageCalculations">

			</div>

			<p style="font-size: 10px;">Currently the numbers are off by a bit. Will look into the detailed damage formula before adding defending calcs.</p> 
		</div>

		<input style="visibility: hidden;" class="inputMes"></input>


	</div>

</div>
